# Git Hooks

## Pre-Commit Hook

The pre-commit hook automatically regenerates Swagger documentation when API handler files are modified.

### What it does

- Detects changes to `backend/internal/api/handlers/*.go` files
- Runs `swag init` to regenerate OpenAPI docs
- Automatically adds the updated docs to your commit

### Installation

The hook is already installed at `.git/hooks/pre-commit` and is executable.

### Requirements

You need to have the `swag` CLI tool installed:

```bash
go install github.com/swaggo/swag/cmd/swag@latest
```

### How it works

When you commit changes to any handler file, you'll see output like:

```
Checking for Go handler changes...
Handler files changed, regenerating Swagger docs...
✓ Swagger docs regenerated successfully
✓ Added updated docs to commit
```

If no handler files were changed, it will skip regeneration.

### Bypassing the hook

If you need to bypass the hook (not recommended):

```bash
git commit --no-verify -m "your message"
```

### Troubleshooting

If the hook fails with "swag command not found":

```bash
# Install swag
go install github.com/swaggo/swag/cmd/swag@latest

# Make sure your Go bin is in PATH
export PATH=$PATH:$(go env GOPATH)/bin
```
